---
import Base from "../layouts/Base.astro";
import { getCollection } from "astro:content";
import ProjectLinks from "../components/ProjectLinks.astro";
const projects = await getCollection("projects");
---
<Base title="Projects â€” Simon Bouchard">
  <h1 class="text-2xl font-bold mb-6">Projects</h1>
  <div class="grid gap-6 md:grid-cols-2">
    {projects.map((p) => (
      <article class="border rounded-2xl p-5 hover:shadow-sm">
        <a href={`/projects/${p.slug}/`} class="block">
        <h2 class="text-lg font-semibold flex items-center gap-2">
          <img src={`/projects/${p.slug}/icon.png`} alt="" class="size-5 rounded" />
          {p.data.title}
        </h2>
        <p class="mt-2 text-sm opacity-90">{p.data.description}</p>
        </a>
        <div class="mt-3 flex flex-wrap gap-2">
          {p.data.stack.slice(0,5).map((s) => <span class="text-xs px-2 py-1 rounded-full border opacity-80">{s}</span>)}
        </div>
        <div class="mt-4">
          <ProjectLinks demo={p.data.demo} repo={p.data.repo} size="sm" />
        </div>
      </article>
    ))}
  </div>
</Base>

